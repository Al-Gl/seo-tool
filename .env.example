# SEO Analyzer Backend Environment Configuration
# Copy this file to .env and update the values according to your setup

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Port for the API server to listen on
PORT=3001

# Node environment (development, production, staging)
NODE_ENV=development

# Frontend URL for CORS configuration
FRONTEND_URL=http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================

# Database connection details
DB_HOST=localhost
DB_PORT=5432
DB_NAME=seo_analyzer
DB_USER=postgres
DB_PASSWORD=your_database_password

# Connection pool settings
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# =============================================================================
# ANTHROPIC CLAUDE AI CONFIGURATION
# =============================================================================

# Anthropic Claude API Key (required for AI analysis)
# Get your API key from: https://console.anthropic.com/
CLAUDE_API_KEY=your_claude_api_key_here

# =============================================================================
# WEB CRAWLER CONFIGURATION
# =============================================================================

# Crawler settings
CRAWLER_TIMEOUT=30000
CRAWLER_USER_AGENT=SEO-Analyzer-Bot/1.0 (+https://seo-analyzer.com/bot)
CRAWLER_VIEWPORT_WIDTH=1366
CRAWLER_VIEWPORT_HEIGHT=768

# Puppeteer settings
PUPPETEER_HEADLESS=true
PUPPETEER_DISABLE_GPU=true
PUPPETEER_NO_SANDBOX=true

# =============================================================================
# REPORT GENERATION CONFIGURATION
# =============================================================================

# Report settings
REPORTS_DIRECTORY=./reports
REPORTS_MAX_AGE_HOURS=24
REPORTS_DEFAULT_FORMAT=A4
REPORTS_DEFAULT_THEME=professional

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# API rate limiting (requests per window)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Request size limits
MAX_REQUEST_SIZE=50mb

# CORS settings
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log format (combined, common, dev, short, tiny)
LOG_FORMAT=combined

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# =============================================================================
# ANALYSIS CONFIGURATION
# =============================================================================

# Default analysis settings
DEFAULT_ANALYSIS_TIMEOUT=300000
MAX_CONCURRENT_ANALYSES=5
ANALYSIS_RETRY_ATTEMPTS=3

# AI Analysis settings
AI_ANALYSIS_TIMEOUT=120000
AI_MAX_TOKENS=2048
AI_TEMPERATURE=0.7

# =============================================================================
# PERFORMANCE MONITORING
# =============================================================================

# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# Metrics collection interval (ms)
METRICS_COLLECTION_INTERVAL=60000

# Health check endpoints
ENABLE_HEALTH_CHECKS=true

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Enable debug mode (development only)
DEBUG_MODE=false

# Enable detailed error messages (development only)
DETAILED_ERRORS=true

# Enable API documentation
ENABLE_API_DOCS=true

# =============================================================================
# OPTIONAL: EXTERNAL SERVICES
# =============================================================================

# Redis (optional - for caching and session management)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# Email service (optional - for notifications)
# EMAIL_SERVICE=gmail
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password
# EMAIL_FROM=SEO Analyzer <noreply@seo-analyzer.com>

# Webhook URLs (optional - for analysis completion notifications)
# WEBHOOK_SUCCESS_URL=
# WEBHOOK_ERROR_URL=

# =============================================================================
# BACKUP AND MAINTENANCE
# =============================================================================

# Database backup settings
# DB_BACKUP_ENABLED=true
# DB_BACKUP_SCHEDULE=0 2 * * *
# DB_BACKUP_RETENTION_DAYS=30

# Cleanup settings
CLEANUP_OLD_ANALYSES_DAYS=30
CLEANUP_OLD_REPORTS_HOURS=48
AUTO_CLEANUP_ENABLED=true

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================

# Application monitoring
# MONITORING_ENABLED=false
# MONITORING_ENDPOINT=
# MONITORING_API_KEY=

# Error tracking
# ERROR_TRACKING_ENABLED=false
# ERROR_TRACKING_DSN=

# =============================================================================
# SSL/TLS CONFIGURATION (Production)
# =============================================================================

# SSL settings (production only)
# SSL_ENABLED=false
# SSL_CERT_PATH=
# SSL_KEY_PATH=
# SSL_CA_PATH=

# =============================================================================
# LOAD BALANCING (Production)
# =============================================================================

# Cluster mode
# CLUSTER_MODE=false
# CLUSTER_WORKERS=auto

# Session settings
# SESSION_SECRET=your-secret-key-here
# SESSION_STORE=memory

# =============================================================================
# NOTES AND INSTRUCTIONS
# =============================================================================

# 1. REQUIRED VARIABLES:
#    - PORT, DB_*, CLAUDE_API_KEY
#
# 2. PRODUCTION SETUP:
#    - Set NODE_ENV=production
#    - Use strong database passwords
#    - Enable SSL/TLS
#    - Configure proper logging
#    - Set up monitoring and backups
#
# 3. DEVELOPMENT SETUP:
#    - Set NODE_ENV=development
#    - Enable debug modes
#    - Use local database
#
# 4. SECURITY NOTES:
#    - Never commit actual API keys or passwords
#    - Use environment-specific values
#    - Regularly rotate API keys and passwords
#    - Enable rate limiting in production
#
# 5. DATABASE SETUP:
#    - Create PostgreSQL database with name specified in DB_NAME
#    - Ensure database user has CREATE, INSERT, UPDATE, DELETE permissions
#    - Run database migrations after setup
#
# 6. API KEY SETUP:
#    - Get Claude API key from Anthropic Console
#    - Ensure API key has sufficient quota
#    - Monitor API usage and costs
#
# 7. PERFORMANCE TUNING:
#    - Adjust DB_MAX_CONNECTIONS based on your server capacity
#    - Set appropriate timeouts for your use case
#    - Monitor memory usage with large analyses
#
# 8. TROUBLESHOOTING:
#    - Check logs in console output
#    - Verify database connectivity
#    - Test API key validity
#    - Ensure all required dependencies are installed